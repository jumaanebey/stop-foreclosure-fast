<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stop Your California Foreclosure | My Foreclosure Solution</title>
    <meta name="description" content="Facing foreclosure in California? Get immediate help from licensed professionals. Free consultation.">
    <link rel="canonical" href="https://myforeclosuresolution.com/">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%231e293b' rx='12' width='100' height='100'/><text x='50' y='65' font-size='50' text-anchor='middle' fill='%23d97706'>M</text></svg>">

    <!-- Google Analytics - Track A/B assignment -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZC3FHFTPN2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-ZC3FHFTPN2');
    </script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #fafafa;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .loader {
            text-align: center;
        }
        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid #e5e5e5;
            border-top-color: #1e293b;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin: 0 auto 16px;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .loader p {
            color: #737373;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="loader">
        <div class="spinner"></div>
        <p>Loading...</p>
    </div>

    <script>
        (function() {
            // A/B Test Configuration
            const EXPERIMENT_ID = 'homepage_redesign_2026';
            const STORAGE_KEY = 'mfs_ab_variant';
            const VARIANTS = {
                'A': 'index-variant-a.html',  // Editorial Luxury (navy + amber)
                'B': 'index-variant-b.html'   // Warm Organic (sage + terracotta)
            };
            const SPLIT = 0.5; // 50% to each variant

            // Get or assign variant
            function getVariant() {
                // Check if already assigned
                let variant = localStorage.getItem(STORAGE_KEY);

                if (!variant || !VARIANTS[variant]) {
                    // Randomly assign based on split
                    variant = Math.random() < SPLIT ? 'A' : 'B';

                    try {
                        localStorage.setItem(STORAGE_KEY, variant);
                    } catch (e) {
                        // localStorage not available, continue with random assignment
                        console.log('localStorage not available');
                    }

                    // Track new assignment in GA4
                    if (typeof gtag !== 'undefined') {
                        gtag('event', 'experiment_assignment', {
                            'experiment_id': EXPERIMENT_ID,
                            'variant_id': variant,
                            'is_new_assignment': true
                        });
                    }
                }

                return variant;
            }

            // Get variant and redirect
            const variant = getVariant();
            const targetPage = VARIANTS[variant];

            // Small delay to ensure GA tracking fires, then redirect
            setTimeout(function() {
                window.location.replace(targetPage);
            }, 50);
        })();
    </script>

    <!-- Fallback for no-JS (rare, but good practice) -->
    <noscript>
        <meta http-equiv="refresh" content="0;url=index-variant-a.html">
    </noscript>
</body>
</html>
