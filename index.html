<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://script.google.com https://fonts.googleapis.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; connect-src 'self' https://script.google.com;">
    <title>Stop Your California Foreclosure in 7 Days | My Foreclosure Solution</title>
    <meta name="description" content="Facing foreclosure in California? Get immediate help. Free consultation. Licensed professionals ready to help you explore your options.">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.7;
            color: #374151;
            background: #fffbf7;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header - Minimal */
        header {
            text-align: center;
            padding: 20px 0;
            border-bottom: 2px solid #f3f4f6;
        }

        .logo {
            font-size: 26px;
            font-weight: bold;
            background: linear-gradient(135deg, #ea580c, #dc2626);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px;
        }

        .emergency-bar {
            background: linear-gradient(90deg, #ef4444 0%, #dc2626 100%);
            color: white;
            text-align: center;
            padding: 14px;
            font-weight: 500;
            font-size: 15px;
        }

        .emergency-bar a {
            color: white;
            text-decoration: none;
            border-bottom: 2px solid white;
        }

        /* Hero Section - Warm and Welcoming */
        .hero {
            text-align: center;
            padding: 80px 20px 60px;
            background: linear-gradient(180deg, #fff8f3 0%, #fef3e2 50%, #ffffff 100%);
            position: relative;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="%23fff8f3" fill-opacity="0.3" d="M0,96L48,106.7C96,117,192,139,288,138.7C384,139,480,117,576,122.7C672,128,768,160,864,165.3C960,171,1056,149,1152,138.7C1248,128,1344,128,1392,128L1440,128L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z"></path></svg>') no-repeat;
            background-size: cover;
            opacity: 0.5;
            z-index: -1;
        }

        .welcome-message {
            font-size: 16px;
            color: #92400e;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 16px;
        }

        .hero h1 {
            font-size: clamp(36px, 5vw, 52px);
            font-weight: 800;
            color: #1f2937;
            margin-bottom: 24px;
            line-height: 1.15;
            text-shadow: 0 2px 4px rgba(0,0,0,0.04);
        }

        .hero h1 .highlight {
            color: #ea580c;
            position: relative;
        }

        .hero .subheadline {
            font-size: 21px;
            color: #6b7280;
            margin-bottom: 40px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }

        /* Trust Badges */
        .trust-badges {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .badge {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(251, 146, 60, 0.15);
            border: 1px solid #fed7aa;
            transition: transform 0.2s;
        }

        .badge:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(251, 146, 60, 0.2);
        }

        .badge-icon {
            font-size: 20px;
        }

        /* Benefits - Warm and Inviting */
        .benefits {
            background: linear-gradient(135deg, #ffffff 0%, #fffbf7 100%);
            padding: 50px 40px;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(251, 146, 60, 0.08);
            margin-bottom: 40px;
            border: 1px solid #fed7aa;
            position: relative;
        }

        .benefits::before {
            content: 'üè†';
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 40px;
            background: white;
            padding: 0 15px;
        }

        .benefit {
            display: flex;
            align-items: start;
            gap: 15px;
            margin-bottom: 20px;
        }

        .benefit-check {
            color: #ea580c;
            font-size: 28px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: #fef3e2;
            border-radius: 10px;
            flex-shrink: 0;
        }

        .benefit-text {
            flex: 1;
        }

        .benefit-title {
            font-weight: 700;
            font-size: 18px;
            margin-bottom: 5px;
        }

        .benefit-desc {
            color: #6b7280;
        }

        /* Form - Warm and Trustworthy */
        .form-section {
            background: linear-gradient(135deg, #7c2d12 0%, #92400e 100%);
            color: white;
            padding: 60px 40px;
            border-radius: 24px;
            margin-bottom: 40px;
            box-shadow: 0 20px 50px rgba(124, 45, 18, 0.3);
            position: relative;
            overflow: hidden;
        }

        .form-section::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(251, 146, 60, 0.1) 0%, transparent 70%);
            animation: pulse-slow 4s ease-in-out infinite;
        }

        @keyframes pulse-slow {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Multi-step form styles */
        .form-step {
            display: none;
        }

        .form-step.active {
            display: block;
        }

        .form-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .btn-next, .btn-prev {
            background: linear-gradient(135deg, #fb923c, #ea580c);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(234, 88, 12, 0.2);
        }

        .btn-next:hover, .btn-prev:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(234, 88, 12, 0.3);
        }

        .btn-prev {
            background: linear-gradient(135deg, #9ca3af, #6b7280);
        }

        .btn-next:hover, .btn-prev:hover {
            opacity: 0.9;
        }

        .form-title {
            font-size: 32px;
            margin-bottom: 12px;
            text-align: center;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .form-subtitle {
            text-align: center;
            color: #9ca3af;
            margin-bottom: 30px;
        }

        .simple-form {
            display: grid;
            gap: 20px;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            border: 2px solid #374151;
            border-radius: 8px;
            background: white;
            color: #1f2937;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #0d9488;
        }

        .submit-btn {
            background: linear-gradient(135deg, #fb923c, #ea580c);
            color: white;
            border: none;
            padding: 18px;
            font-size: 20px;
            font-weight: 600;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 8px 20px rgba(234, 88, 12, 0.3);
        }

        .submit-btn:hover {
            transform: translateY(-2px);
        }

        .form-privacy {
            text-align: center;
            color: #9ca3af;
            font-size: 14px;
            margin-top: 20px;
        }

        /* Testimonial - One Powerful One */
        .testimonial {
            background: #fef3c7;
            border-left: 5px solid #f59e0b;
            padding: 30px;
            border-radius: 8px;
            margin-bottom: 40px;
        }

        .testimonial-text {
            font-size: 18px;
            font-style: italic;
            margin-bottom: 15px;
        }

        .testimonial-author {
            font-weight: bold;
        }

        .testimonial-location {
            color: #6b7280;
        }

        /* CTA Section */
        .cta-section {
            text-align: center;
            padding: 40px 20px;
            background: #f9fafb;
            border-radius: 12px;
            margin-bottom: 40px;
        }

        .cta-title {
            font-size: 24px;
            margin-bottom: 20px;
        }

        .button-group {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-primary {
            background: #0d9488;
            color: white;
            padding: 15px 30px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            font-size: 18px;
            display: inline-block;
            transition: transform 0.2s;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            background: #0f766e;
        }

        .btn-secondary {
            background: white;
            color: #0d9488;
            padding: 15px 30px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            font-size: 18px;
            border: 2px solid #0d9488;
            display: inline-block;
            transition: all 0.2s;
        }

        .btn-secondary:hover {
            background: #0d9488;
            color: white;
        }

        /* Footer - Minimal */
        footer {
            text-align: center;
            padding: 40px 20px;
            color: #6b7280;
            border-top: 2px solid #f3f4f6;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
        }

        .footer-links a {
            color: #6b7280;
            text-decoration: none;
        }

        .footer-links a:hover {
            color: #0d9488;
        }

        /* FAQ Section */
        .faq-section {
            background: white;
            padding: 50px 40px;
            border-radius: 20px;
            margin-bottom: 40px;
            border: 1px solid #fed7aa;
        }

        .faq-title {
            font-size: 28px;
            color: #1f2937;
            margin-bottom: 30px;
            text-align: center;
            font-weight: 700;
        }

        .faq-item {
            margin-bottom: 25px;
            padding-bottom: 25px;
            border-bottom: 1px solid #fef3e2;
        }

        .faq-item:last-child {
            border-bottom: none;
        }

        .faq-question {
            font-size: 18px;
            font-weight: 600;
            color: #7c2d12;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
        }

        .faq-question::before {
            content: '‚ùì';
            margin-right: 10px;
            font-size: 20px;
        }

        .faq-answer {
            font-size: 16px;
            color: #6b7280;
            line-height: 1.7;
            padding-left: 35px;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 28px;
            }

            .hero .subheadline {
                font-size: 18px;
            }

            .trust-badges {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }

            .benefits {
                padding: 30px 20px;
            }

            .form-section {
                padding: 40px 20px;
                border-radius: 16px;
            }

            .form-group input,
            .form-group select {
                font-size: 16px; /* Prevents zoom on iOS */
                padding: 18px;
            }

            .submit-btn {
                width: 100%;
                padding: 20px;
                font-size: 18px;
            }

            .btn-next, .btn-prev {
                padding: 16px 24px;
                font-size: 16px;
            }

            .form-navigation {
                gap: 10px;
            }

            .faq-section {
                padding: 30px 20px;
            }

            .faq-title {
                font-size: 24px;
            }

            .faq-question {
                font-size: 17px;
            }

            .faq-answer {
                font-size: 15px;
                padding-left: 30px;
            }

            .button-group {
                flex-direction: column;
                gap: 15px;
            }

            .btn-primary,
            .btn-secondary {
                width: 100%;
                text-align: center;
                padding: 20px;
            }

            /* Sticky CTA bar on mobile */
            .mobile-cta-bar {
                display: block;
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                background: linear-gradient(135deg, #ea580c, #dc2626);
                padding: 15px;
                z-index: 1000;
                box-shadow: 0 -4px 20px rgba(0,0,0,0.2);
            }

            .mobile-cta-bar a {
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                text-decoration: none;
                font-size: 18px;
                font-weight: 600;
                gap: 10px;
            }

            /* Add padding to body to account for sticky bar */
            body {
                padding-bottom: 70px;
            }
        }

        /* Hide mobile CTA bar on desktop */
        .mobile-cta-bar {
            display: none;
        }

        /* Urgency Timer Styles */
        .urgency-timer {
            display: none;
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            text-align: center;
            animation: fadeInScale 0.5s ease-out;
        }

        .urgency-timer.active {
            display: block;
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .timer-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .countdown-display {
            font-size: 36px;
            font-weight: 800;
            margin: 15px 0;
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .time-unit {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .time-value {
            font-size: 42px;
            line-height: 1;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .time-label {
            font-size: 12px;
            text-transform: uppercase;
            opacity: 0.9;
            margin-top: 5px;
        }

        .timer-warning {
            font-size: 16px;
            margin-top: 15px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
        }

        /* SMS Form Styles */
        .sms-optin {
            background: #fef3e2;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border: 2px solid #fb923c;
            display: none;
        }

        .sms-optin.active {
            display: block;
        }

        .sms-optin-title {
            font-size: 16px;
            font-weight: 600;
            color: #7c2d12;
            margin-bottom: 10px;
        }

        .sms-checkbox {
            display: flex;
            align-items: start;
            gap: 10px;
            margin-bottom: 10px;
        }

        .sms-checkbox input {
            margin-top: 5px;
        }

        .sms-checkbox label {
            font-size: 14px;
            color: #92400e;
            line-height: 1.5;
        }

        .sms-number {
            font-weight: bold;
            color: #ea580c;
        }

        /* Text Chat Widget */
        .chat-widget {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .chat-trigger {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #ea580c, #dc2626);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(234, 88, 12, 0.4);
            transition: all 0.3s;
            animation: pulse-chat 3s infinite;
        }

        .chat-trigger:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(234, 88, 12, 0.5);
        }

        .chat-trigger::after {
            content: 'üí¨';
            font-size: 28px;
        }

        @keyframes pulse-chat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .chat-window {
            position: absolute;
            bottom: 80px;
            right: 0;
            width: 350px;
            height: 450px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            display: none;
            flex-direction: column;
            overflow: hidden;
            border: 2px solid #fed7aa;
        }

        .chat-window.open {
            display: flex;
            animation: slideUp 0.3s ease-out;
        }

        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .chat-header {
            background: linear-gradient(135deg, #ea580c, #dc2626);
            color: white;
            padding: 15px 20px;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-close {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            opacity: 0.8;
        }

        .chat-close:hover {
            opacity: 1;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #fffbf7;
        }

        .chat-message {
            margin-bottom: 15px;
            padding: 12px 16px;
            border-radius: 12px;
            max-width: 80%;
            line-height: 1.5;
        }

        .chat-message.bot {
            background: #fef3e2;
            color: #7c2d12;
            border: 1px solid #fed7aa;
        }

        .chat-message.user {
            background: linear-gradient(135deg, #ea580c, #dc2626);
            color: white;
            margin-left: auto;
        }

        .chat-input-area {
            padding: 15px 20px;
            border-top: 1px solid #fed7aa;
            background: white;
        }

        .chat-input-form {
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #fed7aa;
            border-radius: 8px;
            outline: none;
            font-size: 14px;
        }

        .chat-input:focus {
            border-color: #ea580c;
        }

        .chat-send {
            background: linear-gradient(135deg, #ea580c, #dc2626);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .chat-send:hover {
            transform: translateY(-1px);
        }

        .chat-quick-actions {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 10px;
        }

        .quick-action-btn {
            background: white;
            border: 2px solid #fed7aa;
            color: #7c2d12;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            text-align: left;
            transition: all 0.3s;
            font-size: 14px;
        }

        .quick-action-btn:hover {
            background: #fef3e2;
            border-color: #fb923c;
        }

        /* Mobile adjustments */
        @media (max-width: 768px) {
            .chat-window {
                width: 300px;
                height: 400px;
            }

            .chat-widget {
                bottom: 80px; /* Above mobile CTA bar */
            }
        }

        /* Floating Phone Button - Mobile Only */
        @media (max-width: 768px) {
            .floating-phone {
                position: fixed;
                bottom: 20px;
                right: 20px;
                width: 60px;
                height: 60px;
                background: #dc2626;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 5px 20px rgba(220, 38, 38, 0.4);
                z-index: 1000;
                text-decoration: none;
                animation: pulse 2s infinite;
            }

            .floating-phone:after {
                content: "üìû";
                font-size: 28px;
            }

            @keyframes pulse {
                0%, 100% { transform: scale(1); }
                50% { transform: scale(1.1); }
            }
        }
    </style>
</head>
<body>
    <!-- Emergency Bar -->
    <div class="emergency-bar">
        ‚ö° URGENT: If your sale is within 7 days, <a href="tel:+1-949-328-4811">call now: (949) 328-4811</a>
    </div>

    <!-- Simple Header -->
    <header>
        <div class="container">
            <div class="logo">My Foreclosure Solution</div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="welcome-message">You're in Safe Hands</div>
            <h1>We'll Help You <span class="highlight">Save Your Home</span><br>or Walk Away with Dignity</h1>
            <p class="subheadline">You're not alone in this. As licensed California real estate professionals, we've guided families through this difficult time. There's still hope, and we're here to help you find the best solution for your unique situation.</p>

            <!-- Trust Badges -->
            <div class="trust-badges">
                <div class="badge">
                    <span class="badge-icon">ü§ù</span>
                    <span>No Judgment, Just Help</span>
                </div>
                <div class="badge">
                    <span class="badge-icon">üîí</span>
                    <span>100% Confidential</span>
                </div>
                <div class="badge">
                    <span class="badge-icon">‚ô•Ô∏è</span>
                    <span>We Genuinely Care</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content Container -->
    <div class="container">
        <!-- 3 Simple Benefits -->
        <div class="benefits">
            <div class="benefit">
                <div class="benefit-check">‚úì</div>
                <div class="benefit-text">
                    <div class="benefit-title">We Stop the Sale</div>
                    <div class="benefit-desc">Legal methods to postpone or cancel your foreclosure auction</div>
                </div>
            </div>
            <div class="benefit">
                <div class="benefit-check">‚úì</div>
                <div class="benefit-text">
                    <div class="benefit-title">You Keep Your Equity</div>
                    <div class="benefit-desc">Don't let the bank take it all - we help you get what's yours</div>
                </div>
            </div>
            <div class="benefit">
                <div class="benefit-check">‚úì</div>
                <div class="benefit-text">
                    <div class="benefit-title">Multiple Options Available</div>
                    <div class="benefit-desc">Loan modification, quick sale, or cash offer - we find what works for you</div>
                </div>
            </div>
        </div>

        <!-- Simple Form -->
        <div class="form-section">
            <h2 class="form-title">Let's Talk About Your Situation</h2>
            <p class="form-subtitle">Every situation is unique. Tell us a bit about yours, and we'll reach out with personalized solutions.</p>


            <form class="simple-form" id="foreclosure-help-form">
                <!-- Step 1: Basic Contact Information -->
                <div class="form-step active" id="step-1">
                    <div class="form-group">
                        <input type="text" name="name" placeholder="Your Name" autocomplete="name" required>
                    </div>
                    <div class="form-group">
                        <input type="tel" name="phone" placeholder="Phone Number" autocomplete="tel" required>
                    </div>
                    <div class="form-group">
                        <input type="email" name="email" placeholder="Email Address" autocomplete="email" required>
                    </div>
                    <div class="form-navigation">
                        <span></span>
                        <button type="button" class="btn-next" onclick="nextStep()">Continue ‚Üí</button>
                    </div>
                </div>

                <!-- Step 2: Timeline & Property Basics -->
                <div class="form-step" id="step-2">
                    <div class="form-group">
                        <input type="text" name="property_address" placeholder="Property Address" autocomplete="street-address" required>
                    </div>
                    <div class="form-group">
                        <select name="timeline" autocomplete="off" required onchange="showUrgencyTimer(this.value)">
                            <option value="">When is your foreclosure sale?</option>
                            <option value="7days">Within 7 days (URGENT)</option>
                            <option value="30days">Within 30 days</option>
                            <option value="60days">Within 60 days</option>
                            <option value="over60">More than 60 days</option>
                            <option value="unsure">Not sure</option>
                        </select>
                    </div>

                    <!-- Urgency Timer (shows after timeline selection) -->
                    <div class="urgency-timer" id="urgencyTimer">
                        <div class="timer-title">‚ö° Time Until Your Auction</div>
                        <div class="countdown-display" id="countdown">
                            <div class="time-unit">
                                <span class="time-value" id="days">--</span>
                                <span class="time-label">Days</span>
                            </div>
                            <div class="time-unit">
                                <span class="time-value" id="hours">--</span>
                                <span class="time-label">Hours</span>
                            </div>
                            <div class="time-unit">
                                <span class="time-value" id="minutes">--</span>
                                <span class="time-label">Minutes</span>
                            </div>
                        </div>
                        <div class="timer-warning" id="timerWarning">
                            Every hour counts. We need to act NOW.
                        </div>
                    </div>

                    <!-- SMS Opt-in -->
                    <div class="sms-optin" id="smsOptin">
                        <div class="sms-optin-title">üì± Get Instant Text Updates</div>
                        <div class="sms-checkbox">
                            <input type="checkbox" id="sms_consent" name="sms_consent" checked>
                            <label for="sms_consent">
                                Yes, text me at the number I provided. I'll get immediate updates about saving my home.
                                <span class="sms-number">Message frequency varies. Reply STOP to cancel.</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-navigation">
                        <button type="button" class="btn-prev" onclick="prevStep()">‚Üê Back</button>
                        <button type="button" class="btn-next" onclick="nextStep()">Almost Done ‚Üí</button>
                    </div>
                </div>

                <!-- Step 3: Financial Details -->
                <div class="form-step" id="step-3">
                    <div class="form-group">
                        <input type="number" name="property_value" placeholder="Estimated Property Value" required>
                    </div>
                    <div class="form-group">
                        <input type="number" name="mortgage_balance" placeholder="Current Mortgage Balance" required>
                    </div>
                    <div class="form-group">
                        <input type="number" name="monthly_payment" placeholder="Monthly Mortgage Payment" required>
                    </div>
                    <div class="form-group">
                        <input type="number" name="months_behind" placeholder="Months Behind on Payments" required>
                    </div>
                    <div class="form-navigation">
                        <button type="button" class="btn-prev" onclick="prevStep()">‚Üê Back</button>
                        <button type="submit" class="submit-btn">Get My Free Consultation ‚Üí</button>
                    </div>
                </div>
            </form>
            <p class="form-privacy">üîí Your information is 100% secure and confidential</p>
        </div>

        <!-- CTA Section -->
        <div class="cta-section">
            <h2 class="cta-title">Ready to Save Your Home?</h2>
            <div class="button-group">
                <a href="tel:+1-949-328-4811" class="btn-primary">
                    üìû Call Now: (949) 328-4811
                </a>
                <a href="faq.html" class="btn-secondary">
                    View Common Questions
                </a>
            </div>
        </div>
    </div>

    <!-- Simple Footer -->
    <footer>
        <div class="container">
            <div class="footer-links">
                <a href="learn-more.html">How It Works</a>
                <a href="faq.html">FAQ</a>
                <a href="privacy-policy.html">Privacy</a>
                <a href="terms-of-service.html">Terms</a>
            </div>
            <p>¬© 2025 My Foreclosure Solution | CA DRE #02076038 | NMLS #2033637</p>
            <p>Serving all California counties</p>
        </div>
    </footer>

    <!-- Mobile Sticky CTA Bar -->
    <div class="mobile-cta-bar">
        <a href="tel:+1-949-328-4811">
            <span>üìû</span>
            <span>Call Now - Free Consultation</span>
        </a>
    </div>

    <!-- Text Chat Widget -->
    <div class="chat-widget">
        <div class="chat-trigger" onclick="toggleChat()"></div>
        <div class="chat-window" id="chatWindow">
            <div class="chat-header">
                <span>üí¨ Quick Help</span>
                <button class="chat-close" onclick="toggleChat()">√ó</button>
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="chat-message bot">
                    Hi! I'm here to help. What's your situation?
                </div>
                <div class="chat-quick-actions">
                    <button class="quick-action-btn" onclick="quickAction('urgent')">
                        üö® My auction is within 7 days
                    </button>
                    <button class="quick-action-btn" onclick="quickAction('timeline')">
                        üìÖ What's my timeline?
                    </button>
                    <button class="quick-action-btn" onclick="quickAction('cost')">
                        üí∞ What will this cost me?
                    </button>
                    <button class="quick-action-btn" onclick="quickAction('options')">
                        üè† What are my options?
                    </button>
                </div>
            </div>
            <div class="chat-input-area">
                <form class="chat-input-form" onsubmit="sendMessage(event)">
                    <input type="text" class="chat-input" placeholder="Type your question..." id="chatInput">
                    <button type="submit" class="chat-send">Send</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Multi-Step Form JavaScript - CSP Compatible -->
    <script>
        let currentStep = 1;
        const totalSteps = 3;

        function nextStep() {
            if (validateCurrentStep()) {
                document.getElementById('step-' + currentStep).classList.remove('active');
                currentStep++;
                document.getElementById('step-' + currentStep).classList.add('active');
            }
        }

        function prevStep() {
            document.getElementById('step-' + currentStep).classList.remove('active');
            currentStep--;
            document.getElementById('step-' + currentStep).classList.add('active');
        }

        function validateCurrentStep() {
            const currentStepElement = document.getElementById('step-' + currentStep);
            const requiredFields = currentStepElement.querySelectorAll('[required]');

            for (let i = 0; i < requiredFields.length; i++) {
                const field = requiredFields[i];
                if (!field.value.trim()) {
                    field.focus();
                    field.style.borderColor = '#dc2626';
                    alert('Please fill out: ' + (field.placeholder || field.name));
                    return false;
                }
            }
            return true;
        }

        function showUrgencyTimer(timeline) {
            const timer = document.getElementById('urgencyTimer');
            const smsOptin = document.getElementById('smsOptin');

            if (!timeline || timeline === 'unsure') {
                timer.classList.remove('active');
                smsOptin.classList.remove('active');
                return;
            }

            timer.classList.add('active');
            smsOptin.classList.add('active');

            // Update timer based on timeline
            let daysToAdd;
            let warningMessage;

            if (timeline === '7days') {
                daysToAdd = 7;
                warningMessage = "‚ö†Ô∏è CRITICAL: Your home could be sold THIS WEEK! We need to act immediately.";
            } else if (timeline === '30days') {
                daysToAdd = 30;
                warningMessage = "‚ö° URGENT: Less than a month to save your home. Every day matters.";
            } else if (timeline === '60days') {
                daysToAdd = 60;
                warningMessage = "‚è∞ TIME SENSITIVE: You have time, but we should start the process now.";
            } else if (timeline === 'over60') {
                daysToAdd = 90;
                warningMessage = "‚úÖ Good timing. We have options, but don't wait too long to act.";
            }

            document.getElementById('timerWarning').textContent = warningMessage;

            // Set target date and start countdown
            const targetDate = new Date();
            targetDate.setDate(targetDate.getDate() + daysToAdd);
            targetDate.setHours(9, 0, 0, 0);

            updateCountdown(targetDate);
            setInterval(function() {
                updateCountdown(targetDate);
            }, 1000);
        }

        function updateCountdown(targetDate) {
            const now = new Date().getTime();
            const distance = targetDate.getTime() - now;

            if (distance < 0) {
                document.getElementById('countdown').innerHTML = '<div class="time-unit"><span class="time-value">EXPIRED</span></div>';
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));

            document.getElementById('days').textContent = String(days).padStart(2, '0');
            document.getElementById('hours').textContent = String(hours).padStart(2, '0');
            document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
        }

        // Form submission
        document.getElementById('foreclosure-help-form').addEventListener('submit', function(e) {
            e.preventDefault();

            const submitBtn = this.querySelector('.submit-btn');
            const originalText = submitBtn.textContent;

            submitBtn.textContent = 'Processing...';
            submitBtn.disabled = true;

            const formData = new FormData(this);
            const data = Object.fromEntries(formData);

            // Create alert message
            const alertData = {
                type: 'lead_alert',
                to: 'help@myforeclosuresolutions.com',
                subject: (data.timeline === '7days' ? 'üö® URGENT' : 'üìã NEW') + ' FORECLOSURE LEAD - ' + data.name,
                message: 'NEW FORECLOSURE LEAD RECEIVED\n\nüìû Name: ' + data.name +
                        '\nüì± Phone: ' + data.phone +
                        '\nüìß Email: ' + data.email +
                        '\nüè† Property: ' + data.property_address +
                        '\n‚è∞ Timeline: ' + data.timeline +
                        '\nüí∞ Property Value: $' + (data.property_value || 'Unknown') +
                        '\nüè¶ Mortgage Balance: $' + (data.mortgage_balance || 'Unknown') +
                        '\nüìÖ Months Behind: ' + (data.months_behind || 'Unknown') +
                        '\nüì± SMS OK: ' + (data.sms_consent ? 'YES' : 'NO') +
                        '\n\nACTION REQUIRED: Contact immediately!\nSubmitted: ' + new Date().toLocaleString(),
                leadData: data
            };

            // Send to Google Apps Script
            fetch('https://script.google.com/macros/s/AKfycbwot6SWKdQKzoOmVizO8_mh93aU_A6cIkGnpu5yrnzmPrfkn4pDQ7E07asi1_PXSpsq/exec', {
                method: 'POST',
                mode: 'no-cors',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(alertData)
            }).then(function() {
                return fetch('https://script.google.com/macros/s/AKfycbwot6SWKdQKzoOmVizO8_mh93aU_A6cIkGnpu5yrnzmPrfkn4pDQ7E07asi1_PXSpsq/exec', {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
            }).then(function() {
                // Show success message
                const successHTML = '<div style="text-align: center; padding: 40px; background: white; border-radius: 20px;">' +
                    '<h3 style="color: #10b981; font-size: 32px; margin-bottom: 20px;">‚úÖ Thank You!</h3>' +
                    '<p style="font-size: 20px; margin-bottom: 20px;">We received your foreclosure request.</p>' +
                    '<p style="font-size: 18px; color: #ea580c; margin-bottom: 15px;">üìß Alert sent to our team!</p>' +
                    '<p style="font-size: 18px; color: #9ca3af; margin-bottom: 30px;">A specialist will contact you within 30 minutes.</p>' +
                    '<a href="tel:+1-949-328-4811" style="background: linear-gradient(135deg, #fb923c, #ea580c); color: white; padding: 15px 30px; border-radius: 12px; text-decoration: none; font-weight: 600; font-size: 18px; display: inline-block;">' +
                    'üìû Call Now: (949) 328-4811</a></div>';
                document.querySelector('.form-section').innerHTML = successHTML;
            }).catch(function(error) {
                console.error('Submission error:', error);
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
                alert('There was an error submitting your request. Please call (949) 328-4811 directly.');
            });
        });

        // Chat Widget Functionality
        let chatOpen = false;

        function toggleChat() {
            const chatWindow = document.getElementById('chatWindow');
            chatOpen = !chatOpen;

            if (chatOpen) {
                chatWindow.classList.add('open');
                // Auto-scroll to bottom
                setTimeout(() => {
                    const messages = document.getElementById('chatMessages');
                    messages.scrollTop = messages.scrollHeight;
                }, 100);
            } else {
                chatWindow.classList.remove('open');
            }
        }

        function addMessage(text, isUser = false) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${isUser ? 'user' : 'bot'}`;
            messageDiv.textContent = text;

            // Remove quick actions if they exist
            const quickActions = messagesContainer.querySelector('.chat-quick-actions');
            if (quickActions && isUser) {
                quickActions.remove();
            }

            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function quickAction(action) {
            const responses = {
                urgent: {
                    user: "My auction is within 7 days",
                    bot: "This is URGENT! Call me immediately at (949) 328-4811. Even with 7 days, we can still stop the sale through emergency legal methods. Don't wait - every hour counts. I can also send you a quick text if that's easier."
                },
                timeline: {
                    user: "What's my timeline?",
                    bot: "Timeline depends on your situation. Notice of Default = 90+ days. Notice of Sale = 21+ days. Sale scheduled = immediate action needed. Tell me where you are in the process and I'll give you exact timelines."
                },
                cost: {
                    user: "What will this cost me?",
                    bot: "Our consultation is 100% FREE. If we help you sell, we get paid from the sale proceeds - you pay nothing out of pocket. If we help you keep your home, any costs are explained upfront. No hidden fees, ever."
                },
                options: {
                    user: "What are my options?",
                    bot: "You have 3 main paths: 1) Keep your home (loan modification, repayment plan) 2) Sell quickly (short sale, cash offer) 3) Walk away with dignity. Best option depends on your equity, income, and goals. Let's talk!"
                }
            };

            const response = responses[action];
            addMessage(response.user, true);

            setTimeout(() => {
                addMessage(response.bot);
                addCallToAction();
            }, 1000);
        }

        function addCallToAction() {
            const messagesContainer = document.getElementById('chatMessages');
            const ctaDiv = document.createElement('div');
            ctaDiv.className = 'chat-quick-actions';
            ctaDiv.innerHTML = `
                <button class="quick-action-btn" onclick="requestCallback()">
                    üìû Request callback in 30 minutes
                </button>
                <button class="quick-action-btn" onclick="window.location.href='tel:+1-949-328-4811'">
                    üì± Call now: (949) 328-4811
                </button>
                <button class="quick-action-btn" onclick="requestText()">
                    üí¨ Text me instead
                </button>
            `;
            messagesContainer.appendChild(ctaDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function requestCallback() {
            addMessage("I'd like a callback in 30 minutes", true);
            setTimeout(() => {
                addMessage("Perfect! I'll call you within 30 minutes. Can you quickly fill out the form on this page so I have your details? It takes 30 seconds and helps me prepare for our call.");
                scrollToForm();
            }, 1000);
        }

        function requestText() {
            addMessage("I'd prefer to text", true);
            setTimeout(() => {
                addMessage("Great! Text me at (949) 328-4811 and I'll respond quickly. Include your name and when your foreclosure sale is scheduled so I can prioritize your message.");
            }, 1000);
        }

        function scrollToForm() {
            document.querySelector('.form-section').scrollIntoView({
                behavior: 'smooth'
            });
            setTimeout(() => {
                toggleChat(); // Close chat to show form
            }, 2000);
        }

        function sendMessage(event) {
            event.preventDefault();
            const input = document.getElementById('chatInput');
            const message = input.value.trim();

            if (!message) return;

            addMessage(message, true);
            input.value = '';

            // Simple keyword-based responses
            setTimeout(() => {
                const response = getSmartResponse(message.toLowerCase());
                addMessage(response);

                // After any response, show CTA options
                setTimeout(() => {
                    addCallToAction();
                }, 1500);
            }, 1000);
        }

        function getSmartResponse(message) {
            if (message.includes('auction') || message.includes('sale date') || message.includes('days')) {
                return "Time is critical! If your auction is soon, we need to act immediately. The exact options depend on your timeline. Call me now at (949) 328-4811 for urgent help.";
            }
            if (message.includes('cost') || message.includes('money') || message.includes('fee')) {
                return "No upfront costs! Our consultation is free, and if we help you sell, we're paid from proceeds. If we help you keep your home, any costs are explained clearly first.";
            }
            if (message.includes('keep') || message.includes('stay') || message.includes('home')) {
                return "Keeping your home is often possible! Options include loan modification, repayment plans, or refinancing. Success depends on your income and how far behind you are.";
            }
            if (message.includes('behind') || message.includes('payments') || message.includes('months')) {
                return "Being behind on payments doesn't mean you'll lose your home. We've helped people who were 12+ months behind. The key is acting now while you still have options.";
            }
            if (message.includes('embarrassed') || message.includes('ashamed') || message.includes('judge')) {
                return "Please don't feel embarrassed. Life happens - job loss, medical bills, divorce. We see this daily and we're here to help, not judge. You're being smart by seeking help.";
            }

            return "I understand your concern. Every situation is unique, which is why I'd love to talk with you personally. A quick call helps me give you specific advice for your situation. Can I call you?";
        }

        // Auto-open chat after 30 seconds if user hasn't interacted
        setTimeout(() => {
            if (!chatOpen && !localStorage.getItem('foreclosureFormProgress')) {
                toggleChat();
            }
        }, 30000);

        // Urgency Timer Functions
        let countdownInterval;

        function showUrgencyTimer(timeline) {
            const timer = document.getElementById('urgencyTimer');
            const smsOptin = document.getElementById('smsOptin');

            if (!timeline || timeline === 'unsure') {
                timer.classList.remove('active');
                smsOptin.classList.remove('active');
                if (countdownInterval) clearInterval(countdownInterval);
                return;
            }

            // Show timer and SMS opt-in
            timer.classList.add('active');
            smsOptin.classList.add('active');

            // Calculate target date based on selection
            let daysToAdd;
            let warningMessage;

            switch(timeline) {
                case '7days':
                    daysToAdd = 7;
                    warningMessage = "‚ö†Ô∏è CRITICAL: Your home could be sold THIS WEEK! We need to act immediately.";
                    break;
                case '30days':
                    daysToAdd = 30;
                    warningMessage = "‚ö° URGENT: Less than a month to save your home. Every day matters.";
                    break;
                case '60days':
                    daysToAdd = 60;
                    warningMessage = "‚è∞ TIME SENSITIVE: You have time, but we should start the process now.";
                    break;
                case 'over60':
                    daysToAdd = 90;
                    warningMessage = "‚úÖ Good timing. We have options, but don't wait too long to act.";
                    break;
            }

            document.getElementById('timerWarning').textContent = warningMessage;

            // Set target date
            const targetDate = new Date();
            targetDate.setDate(targetDate.getDate() + daysToAdd);
            targetDate.setHours(9, 0, 0, 0); // Set to 9 AM

            // Clear any existing countdown
            if (countdownInterval) clearInterval(countdownInterval);

            // Start countdown
            countdownInterval = setInterval(() => {
                updateCountdown(targetDate);
            }, 1000);

            updateCountdown(targetDate);

            // If urgent, also show in chat
            if (timeline === '7days') {
                setTimeout(() => {
                    if (!chatOpen) {
                        toggleChat();
                        setTimeout(() => {
                            addMessage("I see your auction is in 7 days! This is extremely urgent. Let's talk RIGHT NOW.", false);
                            addCallToAction();
                        }, 1000);
                    }
                }, 2000);
            }
        }

        function updateCountdown(targetDate) {
            const now = new Date().getTime();
            const distance = targetDate - now;

            if (distance < 0) {
                document.getElementById('days').textContent = '00';
                document.getElementById('hours').textContent = '00';
                document.getElementById('minutes').textContent = '00';
                document.getElementById('timerWarning').textContent = "‚ö†Ô∏è IMMEDIATE ACTION REQUIRED!";
                clearInterval(countdownInterval);
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));

            document.getElementById('days').textContent = String(days).padStart(2, '0');
            document.getElementById('hours').textContent = String(hours).padStart(2, '0');
            document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
        }

        // Old functions removed - using simplified form submission above

        // Multi-step form complete
    </script>
</body>
</html>